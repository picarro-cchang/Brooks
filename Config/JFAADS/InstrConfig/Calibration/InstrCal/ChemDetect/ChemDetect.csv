# ChemDetect template file for near IR N2O analyzers,Name of the Instrument:  JADS 2009, Date calibration done: 2013-09-30,
INITIALIZE,,,
debug_mode, ,, Use XXX.cntl_vars[debug_mode'] to retrieve this value in the DM script
max_run,10,, Use XXX.cntl_vars['max_run'] to retrieve this value in the DM script
#,,,
a0_res2_HP,0.0067,  Updated on 2013-09-26,Intercept of the best fit line (res2 as a function of N2O_raw)
a1_res2_HP,0.00534,  Updated on 2013-09-26,slope of the best fit line (res2 as a function of N2O_raw)
a0_res2_HR1,0.0067,  Updated on 2013-09-26,Intercept of the best fit line (res2 as a function of N2O_raw)
a1_res2_HR1,0.00534,  Updated on 2013-09-26,slope of the best fit line (res2 as a function of N2O_raw)
,,,
Cor_res_CO2,0.00E+00, ,"res, CO2 cor."
Cor_res_H2O,0.00E+00, ,"res, H2O cor."
N2O_thresh_param,40,,
,,,
PROCESS,,,
N2O_mean,mean_running(N2O_raw_ChemDet),,
N2O_thresh,evaluation(N2O_thresh_param), ,
HP_region,evaluation(N2O_mean<N2O_thresh),,
HR1_region,evaluation(N2O_mean>=N2O_thresh),,
,,,
CO2_mean,mean_running(CO2_raw_ChemDet),,
CH4_mean,mean_running(CH4_raw_ChemDet),,
#=========================================================================================================================================,,,
# Set thresholds on res2_diff  for N2O conc < res2_thresh,,,
res2_diff_mean,mean_running(res2_diff),,"""max_run"" data points are averaged"
res2_a1_mean,mean_running(res2_a1),,"""max_run"" data points are averaged"
,,,
res2_diff_HP_mean_calib,evaluation(0.06),  Updated on 2013-09-30,prev value:
res2_diff_HP_threshold_calib,evaluation(0.14),  Updated on 2013-09-30,prev value:
res2_diff_HP_IS_TooLarge,evaluation(abs(res2_diff_mean-res2_diff_HP_mean_calib)>res2_diff_HP_threshold_calib),,
NOTOK_res2_diff_HP,truth_evaluation(HP_region and res2_diff_HP_IS_TooLarge),,
,,,
res2_a1_HR1_mean_calib,evaluation(-0.0004),  Updated on 2013-09-30,
res2_a1_HR1_threshold_calib,evaluation(0.0046),  Updated on 2013-09-30,
res2_a1_HR1_IS_TooLarge,evaluation(abs(res2_a1_mean-res2_a1_HR1_mean_calib)>res2_a1_HR1_threshold_calib),,
NOTOK_res2_a1_HR1,truth_evaluation(HR1_region and res2_a1_HR1_IS_TooLarge),,
,,,
NOTOK_res2,truth_evaluation(NOTOK_res2_diff_HP or NOTOK_res2_a1_HR1),,
RED_n2o,truth_evaluation(NOTOK_res2), ,
NOT_RED_n2o,"bool_xor(RED_n2o,TRUE)",,
,,,
#=========================================================================================================================================,,,
co2_res_mean,mean_running(co2_res),,
co2_res_mean_calib,evaluation(0.23),  Updated on 2013-09-30,
co2_res_mean_threshold_calib,evaluation(0.46),  Updated on 2013-09-30,
co2_res_IS_TooLarge,evaluation(abs(co2_res_mean-co2_res_mean_calib)>co2_res_mean_threshold_calib),,
NOTOK_co2,truth_evaluation(co2_res_IS_TooLarge),,
RED_co2,truth_evaluation(NOTOK_co2),,
#=========================================================================================================================================,,,
ch4_res_mean,mean_running(ch4_res),,
ch4_res_mean_calib,evaluation(1.0),  Updated on 2013-09-30,
ch4_res_mean_threshold_calib,evaluation(1.4),  Updated on 2013-09-30,
ch4_res_IS_TooLarge,evaluation(abs(ch4_res_mean-ch4_res_mean_calib)>ch4_res_mean_threshold_calib),,
NOTOK_ch4,truth_evaluation(ch4_res_IS_TooLarge),,
RED_ch4,truth_evaluation(NOTOK_ch4),,
#=========================================================================================================================================,,,
,,,
## RED,truth_evaluation(RED_n2o or RED_co2 or RED_ch4),,
